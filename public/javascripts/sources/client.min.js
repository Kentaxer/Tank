!function(){function a(){requestAnimFrame(a),i.render(h)}function b(a){var b=document.getElementById(a);b.play()}function c(){l.emit("left",null)}function d(){l.emit("right",null)}function e(){l.emit("up",null)}function f(){l.emit("down",null)}function g(){b("fire"),l.emit("fire",null)}var h,i,j,k,l=io();$(document).keydown(function(a){switch(a.keyCode){case 65:c();break;case 87:e();break;case 68:d();break;case 83:f();break;case 74:g()}}),l.on("welcome",function(a){j=a.width,k=a.height,h=new PIXI.Stage(0),i=PIXI.autoDetectRenderer(j,k),document.body.appendChild(i.view)}),l.on("update",function(b){if(b){h.children.length>0&&h.removeChildren(0,h.children.length);for(var c=b.objects,d=0;d<c.length;d++){var e=c[d];if(null!==e){var f="resources/images/"+e.resource,g=PIXI.Texture.fromImage(f),i=new PIXI.Sprite(g);i.anchor.x=.5,i.anchor.y=.5,i.position.x=e.x,i.position.y=e.y,h.addChild(i)}}requestAnimFrame(a)}})}();