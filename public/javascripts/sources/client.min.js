!function(){function a(){requestAnimFrame(a),i.render(h)}function b(){f.emit("left",{id:g})}function c(){f.emit("right",{id:g})}function d(){f.emit("up",{id:g})}function e(){f.emit("down",{id:g})}var f=io(),g=0,h=new PIXI.Stage(0),i=PIXI.autoDetectRenderer(800,600);document.body.appendChild(i.view),$(document).keydown(function(a){switch(a.keyCode){case 37:b();break;case 38:d();break;case 39:c();break;case 40:e()}}),f.on("welcome",function(a){a&&(g=a.id)}),f.on("update",function(b){if(b){h.children.length>0&&h.removeChildren(0,h.children.length);for(var c=b.tanks,d=0;d<c.length;d++){var e=c[d],f="resources/images/"+e.resource,g=PIXI.Texture.fromImage(f),i=new PIXI.Sprite(g);i.anchor.x=.5,i.anchor.y=.5,i.position.x=e.x,i.position.y=e.y,h.addChild(i)}requestAnimFrame(a)}})}();