!function(){function a(){requestAnimFrame(a),i.render(h)}function b(){g.emit("left",null)}function c(){g.emit("right",null)}function d(){g.emit("up",null)}function e(){g.emit("down",null)}function f(){g.emit("fire",null)}var g=io(),h=new PIXI.Stage(0),i=PIXI.autoDetectRenderer(800,600);document.body.appendChild(i.view),$(document).keydown(function(a){switch(a.keyCode){case 65:b();break;case 87:d();break;case 68:c();break;case 83:e();break;case 74:f()}}),g.on("welcome",function(){}),g.on("update",function(b){if(b){h.children.length>0&&h.removeChildren(0,h.children.length);for(var c=b.tanks,d=b.missiles,e=0;e<c.length;e++){var f=c[e];if(null!==f){var g="resources/images/"+f.resource,i=PIXI.Texture.fromImage(g),j=new PIXI.Sprite(i);j.anchor.x=.5,j.anchor.y=.5,j.position.x=f.x,j.position.y=f.y,h.addChild(j)}}for(e=0;e<d.length;e++){var k=d[e];if(null!==k){var l="resources/images/"+k.resource,m=PIXI.Texture.fromImage(l),n=new PIXI.Sprite(m);n.anchor.x=.5,n.anchor.y=.5,n.position.x=k.x,n.position.y=k.y,h.addChild(n)}}requestAnimFrame(a)}})}();